<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Billions must post!</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 0;
            padding: 20px;
            background-color: rgb(20, 20, 20); /* Background color */
            color: white; /* Default text color for better readability */
        }
        header {
            background-color: aqua;
            font-size: 2em;
            font-family: 'Brush Script MT', 'cursive';
            color: black;
            padding: 10px;
            text-align: center;
        }
        h1 {
            background-color: aqua;
            color: black;
            padding: 10px;
            margin: 0;
            text-align: center;
            font-size: 1.5em; /* Adjusted for responsiveness */
        }
        .upload-form {
            margin: 20px 0;
            text-align: center; /* Center the form */
        }
        .upload-form label {
            display: block;
            margin-bottom: 10px;
        }
        .upload-form input[type="file"] {
            margin-bottom: 10px;
        }
        .gallery {
            display: flex;
            flex-wrap: wrap;
            justify-content: center; /* Center gallery items */
        }
        .gallery-item {
            margin: 10px;
            max-width: 100%;
            box-sizing: border-box; /* Ensure padding does not exceed width */
        }
        img, video {
            max-width: 100%;
            height: auto;
        }
        footer {
            color: white;
            padding: 20px;
            border-top: 1px solid #333;
            text-align: center;
            font-size: 0.9em; /* Adjusted for readability on smaller screens */
        }
        footer a {
            color: lightblue;
            text-decoration: none;
        }
        footer a:hover {
            text-decoration: underline;
        }
        /* Responsive design for smaller screens */
        @media (max-width: 600px) {
            header {
                font-size: 1.5em; /* Smaller header text */
            }
            h1 {
                font-size: 1.2em; /* Smaller h1 text */
            }
            .upload-form {
                padding: 0 10px; /* Add padding for small screens */
            }
            footer {
                font-size: 0.8em; /* Smaller footer text */
            }
        }
    </style>
</head>
<header>G e m  -  M i n e!</header>
<body>
    <h1>Upload Gems and Keks in this Gem mine!</h1>
    <form class="upload-form" action="/upload" method="POST" enctype="multipart/form-data">
        <label for="file-upload">Choose Gem to upload:</label>
        <input type="file" id="file-upload" name="file-upload" accept="image/*,video/*" required>
        <button type="submit">Post</button>
    </form>

    <h2>Gems</h2>
    <div class="gallery" id="gallery">
        <!-- Gallery items will be displayed here -->
    </div>

    <script>
        document.addEventListener("DOMContentLoaded", function() {
            // Fetch and display the gallery items
            fetchGallery();

            // Function to fetch and display gallery items
            function fetchGallery() {
                fetch('/gallery')
                    .then(response => response.json())
                    .then(data => {
                        const gallery = document.getElementById('gallery');
                        gallery.innerHTML = '';
                        data.forEach(item => {
                            const div = document.createElement('div');
                            div.classList.add('gallery-item');
                            if (item.type.startsWith('image/')) {
                                const img = document.createElement('img');
                                img.src = item.url;
                                div.appendChild(img);
                            } else if (item.type.startsWith('video/')) {
                                const video = document.createElement('video');
                                video.src = item.url;
                                video.controls = true;
                                div.appendChild(video);
                            }
                            gallery.appendChild(div);
                        });
                    })
                    .catch(error => console.error('Error fetching gallery:', error));
            }
        });
    </script>
    <footer>
        created in grand and spiteful hatred alongside stark opposition toward those who robbed us of our dear and greatly cherished 
        freedom to post whatever our hearts joyfully please and wish to!
        <div><a href="https://youtu.be/LrkEc2V3mO4?si=mDlBeRrG5YecWyLI" target="_blank">our anthem</a></div>
    </footer>
</body>
</html>
